:root {
    /* Variáveis de Cores e Estilos (Mantidas) */
    --system-font: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --primary-color: #0A84FF;
    --secondary-color: #000000;
    --card-bg: #1c1c1e;
    --input-bg: #2c2c2e;
    --text-color: #ffffff;
    --text-color-secondary: rgba(235, 235, 245, 0.6);
    --text-color-tertiary: rgba(235, 235, 245, 0.45);
    --border-color: #3a3a3c;
    --separator-color: rgba(58, 58, 60, 0.6); /* Cor para separadores delicados */
    --shadow-color: rgba(0, 0, 0, 0.2);
    --danger-color: #FF453A;
    --success-color: #30D158;
    --success-color-darker: #249a41;
    --placeholder-color: rgba(235, 235, 245, 0.3);
    --dialog-backdrop: rgba(0, 0, 0, 0.7);
    --progress-track-color: #38383a;
    --progress-bar-color: var(--success-color);
    --chart-color-1: #0A84FF; --chart-color-2: #30D158; --chart-color-3: #FF9F0A; --chart-color-4: #AF52DE;
    --chart-color-5: #5E5CE6; --chart-color-6: #FF69B4; --chart-color-7: #32CD32; --chart-color-8: #FFD700;
    --font-family: var(--system-font);
    --border-radius: 10px;
    --card-padding: 18px;
    --outer-padding: 15px;
    --transition-speed: 0.3s;
    --transition-speed-fast: 0.1s;
    --content-transition: max-height 0.35s ease-out, opacity 0.25s ease-out 0.1s, padding 0.35s ease-out, margin 0.35s ease-out;
    --dashboard-border-thickness: 3px;
    --progress-percent: 0;
    --celebrate-color-1: #fbc531; --celebrate-color-2: #e84118; --celebrate-color-3: #4cd137;
    --celebrate-color-4: #487eb0; --celebrate-color-5: #9c88ff;
    --primary-gradient: linear-gradient(45deg, var(--primary-color), #5856d6);
}

/* Reset Básico e Estilos Globais */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; -webkit-tap-highlight-color: rgba(0,0,0,0); }
body {
    font-family: var(--font-family); background-color: var(--secondary-color); color: var(--text-color);
    line-height: 1.5; padding: var(--outer-padding); overscroll-behavior-y: contain;
    -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-size: 16px;
}

[data-translate-key]::before { content: ""; }
#loading-indicator {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8);
    display: flex; align-items: center; justify-content: center; z-index: 9999; color: white;
    font-size: 1.2em; transition: opacity 0.3s ease-out;
}
#loading-indicator.hidden { opacity: 0; pointer-events: none; }
#app { max-width: 700px; margin: 0 auto; display: flex; flex-direction: column; gap: 12px; }
h1 { display: none; }

/* --- Dashboard Box --- */
#dashboard-box {
    background-color: var(--card-bg); border-radius: var(--border-radius); padding: 25px var(--card-padding);
    margin-bottom: 20px; position: relative; overflow: hidden; display: flex; flex-direction: column;
    align-items: center; gap: 0; /* Reduzido, espaçamento gerenciado pelos elementos e margens/separadores */
    z-index: 0; transition: background-color 0.5s ease-out;
}

#dashboard-box::before {
    content: ''; position: absolute; inset: 0; z-index: -2; border-radius: inherit;
    background-image: conic-gradient( var(--progress-bar-color) calc(var(--progress-percent) * 1%), var(--progress-track-color) calc(var(--progress-percent) * 1%) );
    transition: background-image 0.5s ease-out, opacity 0.4s ease-out; opacity: 1;
}
#dashboard-box::after {
    content: ''; position: absolute; inset: var(--dashboard-border-thickness); background: var(--card-bg);
    z-index: -1; border-radius: calc(var(--border-radius) - var(--dashboard-border-thickness));
    transition: opacity 0.4s ease-out, background 0.5s ease-out; opacity: 1;
}
#dashboard-box.goal-met { background-color: var(--card-bg); }
#dashboard-box.goal-met::before { opacity: 0; transition: opacity 0.1s linear; }
#dashboard-box.goal-met::after {
    opacity: 1; background: linear-gradient(135deg, var(--celebrate-color-1) 0%, var(--celebrate-color-3) 25%, var(--celebrate-color-4) 50%, var(--celebrate-color-5) 75%, var(--celebrate-color-2) 100% );
    background-size: 400% 400%; animation: celebrate-gradient 8s ease infinite;
}
@keyframes celebrate-gradient { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

/* --- O Conteúdo do Dashboard --- */
.dashboard-item { position: relative; display: flex; flex-direction: column; width: 100%; align-items: center; text-align: center; z-index: 1; }
.dashboard-item--progress, .dashboard-item--progress-container, .progress-ring { display: none; }


/* --- Estilos APRIMORADOS e ESTÉTICOS do texto do Dashboard --- */

/* Elemento "Herói" - A Porcentagem */
#dashboard-month-percentage {
    font-size: 3.5em; font-weight: 700; line-height: 1;
    margin-bottom: 8px; margin-top: 5px; background: var(--primary-gradient);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    background-clip: text; text-fill-color: transparent;
    text-shadow: 0 3px 10px rgba(0, 0, 0, 0.3); letter-spacing: -1px;
    order: 1; /* Ordem para garantir posicionamento */
}

/* Rótulo abaixo da Porcentagem */
.dashboard-item > .dashboard-label[data-translate-key="dashboard.monthGoalLabel"] {
    font-size: 0.8em; font-weight: 500; color: var(--text-color-secondary);
    text-transform: uppercase; letter-spacing: 1.5px; margin-top: 0;
    margin-bottom: 10px; /* Reduzido, separador cuidará do espaço */
    order: 2; /* Ordem */
    position: relative; /* Para o pseudo-elemento */
    padding-bottom: 15px; /* Espaço para a linha abaixo */
}
/* Linha Decorativa Curta Abaixo do Rótulo da Meta */
.dashboard-item > .dashboard-label[data-translate-key="dashboard.monthGoalLabel"]::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 50px; /* Linha curta */
    height: 1px;
    background-color: var(--separator-color);
    opacity: 0.8;
}

/* Rótulos Gerais de Seção */
.dashboard-label {
    font-size: 0.75em; font-weight: 600; color: var(--text-color-tertiary);
    margin-bottom: 5px; display: block; text-transform: uppercase; letter-spacing: 1px;
}

/* Valores Gerais (Ex: Horas da Semana) */
/* Agrupando o valor com o seu label para melhor controle */
.dashboard-value-group {
    order: 3; /* Ordem */
    margin-top: 25px; /* Espaço acima do grupo */
    margin-bottom: 25px; /* Espaço abaixo do grupo */
    position: relative;
}
.dashboard-value {
    font-size: 1.8em; font-weight: 500; color: var(--text-color);
    line-height: 1.1; margin-bottom: 4px; /* Espaço menor pro label abaixo */
}
/* Linha Decorativa curta abaixo do Valor principal */
.dashboard-value::after {
     content: '';
     display: block;
     width: 40px;
     height: 2px;
     background: var(--primary-gradient); /* Usa gradiente principal */
     border-radius: 1px;
     margin: 8px auto 0; /* Espaço abaixo do valor */
}
/* Ajustando o label dentro do grupo */
.dashboard-value-group > .dashboard-label {
    margin-top: 8px; /* Espaço acima do label */
    margin-bottom: 0; /* Reset margem inferior do label */
}


/* Seção de Sumário */
#dashboard-summary {
    order: 4; /* Ordem */
    font-size: 0.9em; color: var(--text-color-secondary); line-height: 1.6;
    margin-bottom: 0; /* Margem controlada pelo separador abaixo */
    margin-top: 0; /* Sem margem topo extra */
    max-width: 90%;
    padding-bottom: 25px; /* Espaço para o separador */
    position: relative;
}
#dashboard-summary strong { color: var(--text-color); font-weight: 600; }
#dashboard-summary span { display: block; margin-bottom: 5px; }
/* Separador com Gradiente após o Sumário */
#dashboard-summary::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 85%; /* Linha larga com fade */
    height: 1px;
    background-image: linear-gradient(to right, transparent, var(--separator-color), transparent);
    opacity: 0.7;
}

/* Seções de Revisitas e Datas Planejadas */
#dashboard-revisits-section { order: 5; margin-top: 25px; } /* Espaço acima da seção */
#dashboard-planned-dates { order: 6; margin-top: 25px; } /* Espaço acima da seção */

#dashboard-revisits-section,
#dashboard-planned-dates {
    width: 100%;
    /* border-top e padding-top removidos - separadores cuidam disso */
}

#dashboard-revisits-section .dashboard-label,
#dashboard-planned-dates .dashboard-label {
    margin-bottom: 8px;
}

#dashboard-revisits-section .dashboard-value {
    font-size: 1.1em; color: var(--text-color); margin-bottom: 0;
    line-height: 1.4; font-weight: 400;
}
#dashboard-revisits-section .dashboard-value strong { color: var(--primary-color); font-weight: 600; margin: 0 4px; }
#dashboard-revisits-section .dashboard-value .revisit-name {
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: block;
    max-width: 95%; margin: 4px auto 0 auto; font-size: 0.85em;
    font-style: italic; color: var(--text-color-secondary);
}

/* Lista de Datas Planejadas */
#dashboard-plan-list {
    list-style: none; padding: 0; margin: 5px 0 0 0; text-align: center;
    font-size: 0.9em; line-height: 1.7; color: var(--text-color-secondary);
    width: 100%; max-height: 70px; overflow-y: auto;
    scrollbar-width: thin; scrollbar-color: var(--separator-color) transparent;
}
#dashboard-plan-list::-webkit-scrollbar { width: 4px; }
#dashboard-plan-list::-webkit-scrollbar-thumb { background-color: var(--separator-color); border-radius: 2px; }
#dashboard-plan-list li {
    margin-bottom: 6px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    padding: 2px 8px; border-radius: 4px; transition: background-color var(--transition-speed-fast) ease;
    position: relative; /* Para potencial pseudo-elemento se necessário */
}
#dashboard-plan-list li:hover { background-color: rgba(255, 255, 255, 0.05); }
#dashboard-plan-list li strong { color: var(--text-color); font-weight: 600; }
#dashboard-plan-list .plan-warning { font-size: 0.9em; margin-left: 5px; opacity: 0.7; font-style: italic; }

/* Texto da Previsão */
#dashboard-forecast {
     order: 7; /* Último elemento */
     margin-top: 25px; /* Espaço acima */
     font-size: 0.9em; color: var(--text-color-secondary);
}
#dashboard-forecast strong { color: var(--text-color); font-weight: 600; }


/* --- Reset e Ajustes para o estado GOAL-MET --- */
/* Esconde os novos separadores/acentos */
#dashboard-box.goal-met .dashboard-item > .dashboard-label[data-translate-key="dashboard.monthGoalLabel"]::after,
#dashboard-box.goal-met .dashboard-value::after,
#dashboard-box.goal-met #dashboard-summary::after {
    display: none;
}
/* Remove padding adicionado para os separadores */
#dashboard-box.goal-met .dashboard-item > .dashboard-label[data-translate-key="dashboard.monthGoalLabel"],
#dashboard-box.goal-met #dashboard-summary {
    padding-bottom: 0;
}
/* Restaura cores escuras (mantendo o restante do goal-met) */
#dashboard-box.goal-met #dashboard-month-percentage {
    background: none; -webkit-text-fill-color: initial; text-fill-color: initial;
    color: #000000; text-shadow: none; font-weight: 700;
}
#dashboard-box.goal-met .dashboard-label,
#dashboard-box.goal-met .dashboard-item > .dashboard-label[data-translate-key="dashboard.monthGoalLabel"],
#dashboard-box.goal-met #dashboard-summary,
#dashboard-box.goal-met #dashboard-plan-list li,
#dashboard-box.goal-met #dashboard-forecast {
    color: rgba(0, 0, 0, 0.7); text-shadow: none;
}
#dashboard-box.goal-met .dashboard-value,
#dashboard-box.goal-met #dashboard-summary strong,
#dashboard-box.goal-met #dashboard-plan-list li strong,
#dashboard-box.goal-met #dashboard-forecast strong {
    color: rgba(0, 0, 0, 0.9); text-shadow: none;
}
#dashboard-box.goal-met #dashboard-revisits-section .dashboard-value { color: rgba(0, 0, 0, 0.7); text-shadow: none; }
#dashboard-box.goal-met #dashboard-revisits-section .dashboard-value strong { color: rgba(0, 0, 0, 0.9); text-shadow: none; }
#dashboard-box.goal-met #dashboard-revisits-section .dashboard-value .revisit-name { color: rgba(0, 0, 0, 0.6); text-shadow: none; }
#dashboard-box.goal-met #dashboard-plan-list li:hover { background-color: transparent; }


/* --- Restante do CSS (sem alterações a partir daqui) --- */

/* --- Estilos dos Cards (Restantes) --- */
.card { background-color: var(--card-bg); border-radius: var(--border-radius); overflow: hidden; transition: box-shadow var(--transition-speed) ease; }
.card-header { display: flex; justify-content: space-between; align-items: center; padding: 15px var(--card-padding); cursor: pointer; transition: background-color var(--transition-speed-fast) ease; position: relative; }
.card-header::after { content: ''; position: absolute; bottom: 0; left: var(--card-padding); right: var(--card-padding); height: 1px; background-color: var(--border-color); opacity: 1; transition: opacity var(--transition-speed-fast) ease; }
.card.expanded .card-header::after { opacity: 0; }
.card:not(.expanded) .card-header:hover { background-color: rgba(255, 255, 255, 0.03); }
.card-header h2 { color: var(--text-color); margin-bottom: 0; font-size: 1.15em; font-weight: 600; pointer-events: none; }
.toggle-icon { font-size: 0.8em; font-weight: bold; transition: transform var(--transition-speed) ease; color: var(--text-color-secondary); margin-left: 10px; width: 20px; height: 20px; display: inline-flex; align-items: center; justify-content: center; pointer-events: none; }
.card.expanded .toggle-icon { transform: rotate(180deg); }
.card-content { padding: 0 var(--card-padding); max-height: 0; opacity: 0; overflow: hidden; border-top: 1px solid var(--border-color); transition: var(--content-transition); margin-top: -1px; }
.card.expanded .card-content { padding-top: var(--card-padding); padding-bottom: calc(var(--card-padding) + 5px); max-height: 1500px; opacity: 1; margin-top: 0; overflow: visible; }

/* --- Formulários --- */
.form-group { margin-bottom: 16px; }
label { display: block; margin-bottom: 8px; font-weight: 500; color: var(--text-color-secondary); font-size: 0.9em; }
input[type="date"], input[type="number"], input[type="text"], input[type="search"], textarea, select { width: 100%; padding: 11px 14px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1em; font-family: var(--font-family); transition: border-color var(--transition-speed) ease, box-shadow var(--transition-speed) ease; appearance: none; -webkit-appearance: none; -moz-appearance: none; background-color: var(--input-bg); color: var(--text-color); }
input[type="text"].time-input { font-variant-numeric: tabular-nums; }
input[type="search"] { padding-right: 35px; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgba(235, 235, 245, 0.6)" class="bi bi-search" viewBox="0 0 16 16"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/></svg>'); background-repeat: no-repeat; background-position: right 12px center; background-size: 16px 16px; }
input[type="search"]::-webkit-search-cancel-button{ appearance: none; height: 14px; width: 14px; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgba(235, 235, 245, 0.6)" class="bi bi-x-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/></svg>'); background-size: 14px 14px; cursor: pointer; }
select { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgba(235, 235, 245, 0.6)" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>'); background-repeat: no-repeat; background-position: right 14px center; background-size: 12px 12px; padding-right: 40px; }
select:focus { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%230A84FF" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>'); }
input[type="date"]::-webkit-calendar-picker-indicator { filter: invert(0.8); cursor: pointer; }
input::placeholder, textarea::placeholder { color: var(--placeholder-color); opacity: 1; }
input:focus, textarea:focus, select:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(10, 132, 255, 0.3); }
input[type="number"] { -moz-appearance: textfield; } input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
textarea { resize: vertical; min-height: 90px; }
#record-form-grid { display: grid; grid-template-columns: 1fr; gap: 15px; }

/* --- Botões --- */
button { background-color: var(--primary-color); color: var(--text-color); border: none; padding: 11px 22px; border-radius: 8px; font-size: 1em; font-weight: 600; cursor: pointer; transition: background-color var(--transition-speed-fast) ease, transform var(--transition-speed-fast) ease, filter var(--transition-speed-fast) ease; display: inline-block; margin-right: 8px; margin-top: 10px; width: auto; transform: scale(1); filter: brightness(1); -webkit-user-select: none; user-select: none; }
button:hover { filter: brightness(1.15); }
button:active { transform: scale(0.95); filter: brightness(0.8); transition-duration: 0.05s; }
button.secondary { background-color: var(--input-bg); color: var(--primary-color); border: 1px solid var(--border-color); } button.secondary:hover { background-color: #3a3a3c; filter: none; } button.secondary:active { background-color: #48484a; transform: scale(0.96); filter: brightness(1); }
button.success { background-color: var(--success-color); color: var(--text-color); } button.success:hover { filter: brightness(1.15); } button.success:active { transform: scale(0.95); filter: brightness(0.8); }
button.danger { background-color: var(--danger-color); color: var(--text-color); } button.danger:hover { background-color: #ff3b30; filter: brightness(1.15); } button.danger:active { background-color: #E0352D; transform: scale(0.96); filter: brightness(0.85); }
.text-center button { width: auto; margin-right: 8px; } .text-center button:last-child { margin-right: 0; }
.change-date-button { background: none; border: none; color: var(--primary-color); cursor: pointer; font-size: 0.9em; padding: 5px 0; margin-left: 5px; text-align: left; width: auto; margin-right: 0; margin-top: 0; } .change-date-button:hover { text-decoration: underline; } .change-date-button:active { transform: scale(0.95); filter: brightness(0.8); }

/* --- Estatísticas --- */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: 12px; text-align: center; margin-top: 10px;}
.stat-item { background-color: var(--input-bg); padding: 16px 12px; border-radius: 8px; }
.stat-value { font-size: 1.7em; font-weight: 600; color: var(--text-color); display: block; margin-bottom: 2px; }
.stat-label { font-size: 0.85em; color: var(--text-color-secondary); }
.progress-bar-container { background-color: var(--border-color); border-radius: 5px; overflow: hidden; height: 8px; margin-top: 8px; }
.progress-bar { background-color: var(--progress-bar-color); height: 100%; width: 0; transition: width var(--transition-speed) ease-out; }

/* --- Histórico --- */
#history-controls { margin-bottom: 15px; display: flex; gap: 10px; padding: 0 var(--card-padding) }
.history-search-input { flex-grow: 1; }
#showing-results-label { font-size: 0.85em; color: var(--text-color-secondary); margin-top: 5px; display: block; text-align: right; padding: 0 var(--card-padding) 5px var(--card-padding) ; min-height: 1.2em;}
.data-list { list-style: none; padding: 0; max-height: 400px; overflow-y: auto; margin-top: 0; scrollbar-width: thin; scrollbar-color: var(--border-color) transparent; }
.data-list::-webkit-scrollbar { width: 5px; }
.data-list::-webkit-scrollbar-thumb { background-color: var(--border-color); border-radius: 3px; }
.data-list li { background-color: transparent; border-bottom: 1px solid var(--border-color); padding: 14px var(--card-padding); margin: 0; display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; transition: background-color var(--transition-speed-fast) ease; }
.data-list li:last-child { border-bottom: none; }
.data-list li:hover { background-color: rgba(255, 255, 255, 0.02); }
.entry-details { font-size: 0.95em; flex-grow: 1; margin-right: 10px; line-height: 1.4; padding-bottom: 5px; word-break: break-word; }
.entry-details strong { color: var(--text-color); font-weight: 500; }
.entry-details .hours { color: var(--primary-color); font-weight: 600; margin-left: 5px; margin-right: 5px; white-space: nowrap; }
.entry-details .tag-badge { display: inline-block; background-color: var(--input-bg); color: var(--text-color-secondary); font-size: 0.75em; padding: 2px 6px; border-radius: 5px; margin-left: 8px; vertical-align: middle; white-space: nowrap; }
.entry-details .notes-preview { color: var(--text-color-secondary); font-size: 0.9em; display: block; margin-top: 5px; white-space: normal; overflow-wrap: break-word; max-height: 4.5em; overflow: hidden; }
.entry-details .revisit-completed-marker { display: inline-block; background-color: var(--success-color); color: var(--text-color); font-size: 0.7em; font-weight: 600; padding: 2px 5px; border-radius: 4px; margin-right: 8px; vertical-align: middle; text-transform: uppercase; }
.entry-details .revisit-scheduled-date { font-size: 0.85em; color: var(--text-color-secondary); margin-left: 8px; }
.entry-details .revisit-scheduled-date strong { color: var(--primary-color); font-weight: 500; }
.entry-actions, .plan-actions, .revisit-actions { flex-shrink: 0; align-self: center; margin-left: auto; }
.entry-actions button, .plan-actions button, .revisit-actions button { padding: 6px 10px; font-size: 0.85em; margin-left: 5px; margin-top: 0; width: auto; border-radius: 6px; }
.plan-actions button, .revisit-actions button { margin-top: 5px; }
.entry-actions button.secondary, .plan-actions button.secondary, .revisit-actions button.secondary { background-color: #3a3a3c; }

/* --- Gráficos --- */
.chart-container { position: relative; min-height: 300px; max-height: 400px; width: 100%; margin-top: 15px; }
.chart-summary-text { text-align: center; font-size: 0.95em; font-weight: 500; color: var(--text-color-secondary); margin-bottom: 10px; margin-top: 5px; min-height: 1.3em; padding: 0 var(--card-padding); }

/* --- Diálogo de Confirmação --- */
.dialog-backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--dialog-backdrop); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 0; visibility: hidden; transition: opacity var(--transition-speed) ease, visibility var(--transition-speed) ease; }
.dialog-backdrop.visible { opacity: 1; visibility: visible; }
.dialog-content { background-color: #2c2c2e; color: var(--text-color); padding: 25px; border-radius: 14px; box-shadow: 0 8px 30px rgba(0,0,0,0.4); text-align: center; max-width: 90%; width: 320px; transform: scale(0.95); transition: transform var(--transition-speed) ease; }
.dialog-backdrop.visible .dialog-content { transform: scale(1); }
.dialog-content p { margin-bottom: 25px; font-size: 1.05em; line-height: 1.5; }
.dialog-actions button { width: calc(50% - 5px); margin-top: 0; padding: 10px; font-size: 1em;}

/* --- Classes Utilitárias --- */
.hidden { display: none !important; }
.visually-hidden { position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }
.text-center { text-align: center; }
.mt-1 { margin-top: 10px; } .mt-2 { margin-top: 20px; }
h3.list-title { font-size: 1em; font-weight: 600; color: var(--text-color-secondary); margin-bottom: 10px; padding-left: var(--card-padding); }
.data-list li.placeholder { padding-left: var(--card-padding); color: var(--text-color-secondary); font-style: italic; border-bottom: none; }

/* --- Media Queries para Telas Maiores --- */
@media (min-width: 768px) {
    :root { --card-padding: 22px; --outer-padding: 25px; --dashboard-border-thickness: 4px; }
    #app { max-width: 960px; gap: 18px; }
    #dashboard-box { padding: 30px var(--card-padding); }

    /* Ajustes Desktop nos Textos e Separadores */
    #dashboard-month-percentage { font-size: 4.2em; letter-spacing: -1.5px; }
    .dashboard-item > .dashboard-label[data-translate-key="dashboard.monthGoalLabel"] { font-size: 0.85em; letter-spacing: 1.8px; padding-bottom: 20px; }
    .dashboard-item > .dashboard-label[data-translate-key="dashboard.monthGoalLabel"]::after { width: 60px; } /* Separador maior */
    .dashboard-value-group { margin-top: 30px; margin-bottom: 30px; }
    .dashboard-value { font-size: 2em; }
    .dashboard-value::after { width: 50px; margin-top: 10px; }
    #dashboard-summary { font-size: 0.95em; max-width: 85%; padding-bottom: 30px; }
    #dashboard-summary::after { margin-top: 5px; width: 90%; }
    #dashboard-revisits-section, #dashboard-planned-dates { margin-top: 30px; }
    #dashboard-revisits-section .dashboard-value { font-size: 1.15em; }
    #dashboard-plan-list { font-size: 0.95em; max-height: 80px; }

    #record-form-grid { grid-template-columns: 1fr 1fr; }
    #plan-form { display: grid; grid-template-columns: 1fr 1fr auto; gap: 15px; align-items: end; }
    #plan-form .form-group { margin-bottom: 0; } #plan-form .text-center { grid-column: 3 / 4; text-align: right; } #plan-form .text-center button { margin-top: 0; }
    .stats-grid { grid-template-columns: repeat(4, 1fr); gap: 15px; }
    .data-list li { flex-wrap: nowrap; align-items: center; }
    .entry-details { padding-bottom: 0; }
    .entry-actions, .plan-actions, .revisit-actions { white-space: nowrap; margin-top: 0; }
    .dialog-content { max-width: 400px; }
    #charts-card .card-content > .form-group { display: flex; align-items: center; gap: 20px; margin-bottom: 10px; }
    #charts-card .card-content > .form-group label { margin-bottom: 0; flex-shrink: 0; }
    #charts-card .card-content > .form-group select { flex-grow: 1; max-width: 250px; }
    #chart-total-hours-display { text-align: left; margin-left: auto; margin-bottom: 0; padding: 0; }
}

@media (min-width: 1200px) {
    #app { max-width: 1140px; }
    #dashboard-month-percentage { font-size: 4.8em; letter-spacing: -2px; }
    .dashboard-value { font-size: 2.2em; }
     .dashboard-item > .dashboard-label[data-translate-key="dashboard.monthGoalLabel"]::after { width: 70px; }
    .dashboard-value::after { width: 60px; }
}
